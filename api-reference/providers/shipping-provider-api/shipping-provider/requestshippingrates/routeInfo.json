{"path":"api-reference/providers/shipping-provider-api/shipping-provider/requestshippingrates","templateID":0,"sharedPropsHashes":{"nav":"ZHaw9F","sidebarTree":"1bVRuv","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Reference","to":"/api-reference"},{"content":"Providers","to":"/api-reference/providers"},{"content":"Shipping Provider API","to":"/api-reference/providers/shipping-provider-api"},{"content":"Shipping Provider","to":"/api-reference/providers/shipping-provider-api/shipping-provider"},{"content":"Request shipping rates","to":"/api-reference/providers/shipping-provider-api/shipping-provider/requestshippingrates"}],"page":{"meta":{"title":"Request shipping rates - Shipping Provider - Shipping Provider API - Providers - API Reference","url":"/api-reference/providers/shipping-provider-api/shipping-provider/requestshippingrates","description":"Request shipping rates\n\nRequest Body\n\nRate request object\n\nResponses\n\nQuote response\n\nSend a Test Request\n"},"title":"Request shipping rates","parsedPath":["pages","/api-reference","data","children",3,"data","children",0,"data","children",0,"data","children",0],"rootPagePath":"/api-reference","path":"/api-reference/providers/shipping-provider-api/shipping-provider/requestshippingrates","isSubpage":true,"route":{"path":"/requestshippingrates"},"data":{"blocks":[{"type":"text","data":"Request shipping rates","header":{"title":"/rate","subtitle":"Request shipping rates","token":"post"}},{"type":"text","data":"## Request Body\n\nRate request object","config":{"classNames":["ApiOperation--requestBodyTitle mt-10","-mb-4"]}},{"type":"accordion","data":{"children":[{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"type":"object","properties":{"base_options":{"description":"The minimum required payload that is sent to retrieve rates","type":"object","properties":{"origin":{"type":"object","title":"Shipping Address","description":"Object representing a destination or origin address for items.","properties":{"street_1":{"type":"string","maxLength":255},"street_2":{"type":"string","maxLength":255},"zip":{"type":"string","maxLength":20,"example":"94105"},"city":{"type":"string","maxLength":50,"example":"San Francisco"},"state_iso2":{"type":"string","description":"State in ISO_3166 2 format","maxLength":2},"country_iso2":{"type":"string","description":"Country in ISO_3166 2 format","maxLength":2,"example":"US"},"address_type":{"description":"Optional, defaults to residential","type":"string","enum":["RESIDENTIAL","COMMERCIAL"]}},"required":["zip","country_iso2"]},"destination":{"type":"object","title":"Shipping Address","description":"Object representing a destination or origin address for items.","properties":{"street_1":{"type":"string","maxLength":255},"street_2":{"type":"string","maxLength":255},"zip":{"type":"string","maxLength":20,"example":"94105"},"city":{"type":"string","maxLength":50,"example":"San Francisco"},"state_iso2":{"type":"string","description":"State in ISO_3166 2 format","maxLength":2},"country_iso2":{"type":"string","description":"Country in ISO_3166 2 format","maxLength":2,"example":"US"},"address_type":{"description":"Optional, defaults to residential","type":"string","enum":["RESIDENTIAL","COMMERCIAL"]}},"required":["zip","country_iso2"]},"items":{"type":"array","items":{"type":"object","description":"A cart item along with it's shipping specific attributes","properties":{"sku":{"type":"string","description":"The variant SKU"},"variant_id":{"type":"string"},"product_id":{"type":"string"},"name":{"type":"string"},"length":{"description":"Value object for a length measurement","type":"object","properties":{"units":{"type":"string","enum":["cm","in"]},"value":{"type":"number","minimum":0}},"required":["units","value"],"title":"Dimension Value"},"width":{"description":"Value object for a length measurement","type":"object","properties":{"units":{"type":"string","enum":["cm","in"]},"value":{"type":"number","minimum":0}},"required":["units","value"],"title":"Dimension Value"},"height":{"description":"Value object for a length measurement","type":"object","properties":{"units":{"type":"string","enum":["cm","in"]},"value":{"type":"number","minimum":0}},"required":["units","value"],"title":"Dimension Value"},"weight":{"description":"Value object for a weight measurement","type":"object","properties":{"units":{"type":"string","enum":["oz","g"]},"value":{"type":"number","minimum":0}},"required":["units","value"],"title":"Weight Value"},"discounted_price":{"description":"Value object for a money amount","type":"object","properties":{"currency":{"type":"string","pattern":"^[A-Z]{3,3}$"},"amount":{"type":"number","minimum":0}},"required":["currency","amount"],"title":"Money Value"},"declared_value":{"description":"Value object for a money amount","type":"object","properties":{"currency":{"type":"string","pattern":"^[A-Z]{3,3}$"},"amount":{"type":"number","minimum":0}},"required":["currency","amount"],"title":"Money Value"},"quantity":{"type":"number","format":"int32"},"attributes":{"description":"A list of arbitrary properties stored as part of the product or product variant meta fields. These consist of public fields specific to the carrier integration.","type":"array","items":{"type":"object","properties":{"key":{"type":"string","description":"The key associated with the meta field"},"value":{"type":"string","description":"The value associated with the meta field"},"namespace":{"type":"string","description":"The namespace associated with product(https://developer.bigcommerce.com/api-reference/catalog/catalog-api/product-metafields/createproductmetafield) or product variant (https://developer.bigcommerce.com/api-reference/catalog/catalog-api/product-variants-metafields/createvariantmetafield) meta fields. The meta field namespace should be saved under this format 'shipping_carrier_{yourCarrierId}' otherwise it will not be recognized as an attribute."},"resource_type":{"type":"string","enum":["product","variant"],"description":"Resource type associated with the meta field. Currently the only values available are 'product' or 'variant'"},"resource_id":{"type":"string","description":"The resource id of the meta field"},"attribute_type":{"type":"string","enum":["metafield"],"description":"Attribute type associated with the product or product variant meta field. Currently the only value for this is 'metafield'"}},"title":"Attribute Value"}}},"title":"Rate Request Item"}},"customer":{"type":"object","properties":{"customer_groups":{"type":"array","items":{"type":"object","properties":{"customer_group_id":{"type":"integer"},"customer_group_name":{"type":"string"}},"title":"Customer Group","description":"The Group (if any) that this customer is in. This will be default to zero if the customer is not in a group or is a guest. "}},"customer_id":{"type":"integer"}},"title":"Customer Details","description":"The details of the Customer that has made the purchase."},"cart_id":{"type":"string"},"store_id":{"type":"string"},"request_context":{"type":"object","properties":{"reference_values":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}},"title":"Reference Value","description":"Value objects contained within the request context"}}},"title":"Request Context","description":"A collection of Reference Value objects."}},"required":["origin","destination","items","store_id"],"title":"Base Rate Request"},"zone_options":{"type":"object","description":"Optional, any zone specific request options declared by the carrier and configued by the merchant to retrieve rates","title":"Zone Options Instance"},"connection_options":{"type":"object","description":"Optional, any global request options declared by the carrier and configued by the merchant to retrieve rates","title":"Connection Options Instance"},"rate_options":{"description":"Optional, any checkout specific request options to retrieve rates","type":"array","items":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"}},"required":["key","value"],"title":"Key Value Pair"},"title":"Rate Options Instance"}},"required":["base_options"],"title":"Rate Request Payload","description":"Payload sent off to a Shipping Provider in order to get quotes."},"config":{"hideRoot":false}}]}]},"config":{"classNames":["ApiOperation--requestBody"]}},{"type":"text","data":"## Responses","config":{"classNames":["ApiOperation--responsesTitle mt-10 -mb-14"]}},{"type":"tabs","data":{"children":[{"title":"200","blocks":[{"type":"text","data":"Quote response"},{"type":"accordion","data":{"children":[{"title":"Schema","config":{"defaultOpen":true},"blocks":[{"type":"jsonSchema","data":{"type":"object","properties":{"quote_id":{"type":"string","maxLength":50},"messages":{"type":"array","items":{"type":"object","properties":{"text":{"type":"string","minLength":1,"maxLength":500},"type":{"type":"string","enum":["INFO","WARNING","ERROR"]}},"required":["text","type"],"title":"Message","description":"A simple string/type response for returning information."}},"carrier_quotes":{"type":"array","items":{"type":"object","description":"A grouping of carrier rates and optionally info about that carrier","properties":{"carrier_info":{"type":"object","properties":{"code":{"type":"string","maxLength":50},"display_name":{"type":"string","minLength":1,"maxLength":100}},"required":["code","display_name"]},"quotes":{"type":"array","items":{"type":"object","properties":{"display_name":{"description":"A display name for the service","type":"string","maxLength":100},"cost":{"description":"Value object for a money amount","type":"object","properties":{"currency":{"type":"string","pattern":"^[A-Z]{3,3}$"},"amount":{"type":"number","minimum":0}},"required":["currency","amount"],"title":"Money Value"},"messages":{"type":"array","items":{"type":"object","properties":{"text":{"type":"string","minLength":1,"maxLength":500},"type":{"type":"string","enum":["INFO","WARNING","ERROR"]}},"required":["text","type"],"title":"Message","description":"A simple string/type response for returning information."}},"description":{"type":"string","maxLength":500},"transit_time":{"type":"object","properties":{"units":{"type":"string","enum":["BUSINESS_DAYS","DAYS","HOURS"]},"duration":{"type":"integer","minimum":1,"maximum":90}},"title":"Transit Time Object","description":"Value object for the length of time in transit"}},"required":["display_name","cost"],"title":"Rate Quote Object","description":"A quote being returned as part of the rate request."}}},"required":["quotes"],"title":"Carrier Quote Object"}}},"required":["quote_id","messages","carrier_quotes"],"title":"Rate Response Payload","description":"The response from the Shipping Service, will contain zero to many quotes."}}]}]}}]}]},"config":{"classNames":["ApiOperation--responses"]}},{"type":"text","data":"## Send a Test Request","config":{"classNames":["ApiOperation--tryItOutTitle mt-10 -mb-10"]}},{"type":"http","data":{"method":"post","url":"http://<yourserver.com>/rate","headers":{"Content-Type":"application/json"},"body":"{\n  \"base_options\": {\n    \"origin\": {\n      \"street_1\": \"string\",\n      \"street_2\": \"string\",\n      \"zip\": \"string\",\n      \"city\": \"string\",\n      \"state_iso2\": \"string\",\n      \"country_iso2\": \"string\",\n      \"address_type\": \"RESIDENTIAL\"\n    },\n    \"destination\": {\n      \"street_1\": \"string\",\n      \"street_2\": \"string\",\n      \"zip\": \"string\",\n      \"city\": \"string\",\n      \"state_iso2\": \"string\",\n      \"country_iso2\": \"string\",\n      \"address_type\": \"RESIDENTIAL\"\n    },\n    \"items\": [\n      {\n        \"sku\": \"string\",\n        \"variant_id\": \"string\",\n        \"product_id\": \"string\",\n        \"name\": \"string\",\n        \"length\": {\n          \"units\": \"cm\",\n          \"value\": 123\n        },\n        \"width\": {\n          \"units\": \"cm\",\n          \"value\": 123\n        },\n        \"height\": {\n          \"units\": \"cm\",\n          \"value\": 123\n        },\n        \"weight\": {\n          \"units\": \"oz\",\n          \"value\": 123\n        },\n        \"discounted_price\": {\n          \"currency\": \"string\",\n          \"amount\": 123\n        },\n        \"declared_value\": {\n          \"currency\": \"string\",\n          \"amount\": 123\n        },\n        \"quantity\": 123,\n        \"attributes\": [\n          {\n            \"key\": \"string\",\n            \"value\": \"string\",\n            \"namespace\": \"string\",\n            \"resource_type\": \"product\",\n            \"resource_id\": \"string\",\n            \"attribute_type\": \"metafield\"\n          }\n        ]\n      }\n    ],\n    \"customer\": {\n      \"customer_groups\": [\n        {\n          \"customer_group_id\": 123,\n          \"customer_group_name\": \"string\"\n        }\n      ],\n      \"customer_id\": 123\n    },\n    \"cart_id\": \"string\",\n    \"store_id\": \"string\",\n    \"request_context\": {\n      \"reference_values\": [\n        {\n          \"name\": \"string\",\n          \"value\": \"string\"\n        }\n      ]\n    }\n  },\n  \"zone_options\": {},\n  \"connection_options\": {},\n  \"rate_options\": [\n    {\n      \"key\": \"string\",\n      \"value\": \"string\"\n    }\n  ]\n}"},"config":{"canvas":false,"paddedInner":false,"classNames":["ApiOperation--tryItOut"]}}],"children":[]}}}}
