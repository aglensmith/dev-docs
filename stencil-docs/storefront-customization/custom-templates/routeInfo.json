{"path":"stencil-docs/storefront-customization/custom-templates","templateID":0,"sharedPropsHashes":{"nav":"ZHaw9F","sidebarTree":"ne2ym","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"Stencil Docs","to":"/stencil-docs"},{"content":"Storefront Customization","to":"/stencil-docs/storefront-customization"},{"content":"Custom Templates","to":"/stencil-docs/storefront-customization/custom-templates"}],"page":{"meta":{"title":"Custom Templates - Storefront Customization - Stencil Docs","url":"/stencil-docs/storefront-customization/custom-templates","description":"Custom Templates\n\n\n\nOn This Page\n\nAuthoring a Custom Template\n\nLocal Mapping and Testing\n\nSpecifying Custom Front Matter\n\nTheme Upload\n\nTroubleshooting ..."},"title":"Custom Templates","parsedPath":["pages","/stencil-docs","data","children",2,"data","children",5],"rootPagePath":"/stencil-docs","path":"/stencil-docs/storefront-customization/custom-templates","isSubpage":true,"route":{"path":"/custom-templates"},"data":{"blocks":[{"type":"text","data":"# Custom Templates\r\n\r\n<div class=\"otp\" id=\"no-index\">\r\n\r\n### On This Page\r\n- [Authoring a Custom Template](#authoring-a-custom-template)\r\n- [Local Mapping and Testing](#local-mapping-and-testing)\r\n- [Specifying Custom Front Matter](#specifying-custom-front-matter)\r\n- [Theme Upload](#theme-upload)\r\n- [Troubleshooting Template Authoring](#troubleshooting-template-authoring)\r\n- [Applying Custom Templates to Pages](#applying-custom-templates-to-pages)\r\n- [Resources](#resources)\r\n\r\n</div> \r\n\r\nThe Stencil framework allows theme developers and merchants to assign custom layout templates to storefront pages of the following types:\r\n\r\n* Brand\r\n* Category\r\n* Product\r\n* Page (meaning \"Web Pages\" – the BigCommerce control panel's designation for static store pages, which can include the store's home page)\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--warning\">\r\n<div class=\"HubBlock-content\">\r\n\r\n<!-- theme: warning -->\r\n\r\n### Stencil versus Blueprint Themes\r\n> If you are migrating from BigCommerce's legacy Blueprint themes framework, please keep in mind these differences in how Stencil handles custom templates:\r\n* The brand option is entirely new in Stencil. If you are running on a Blueprint theme, you will not be able to create a custom template for brand pages.\r\n* Unlike Blueprint, Stencil does not require that custom template file names start with an underscore.\r\n* In the current Stencil release, you must create and bundle custom templates using Stencil CLI before you can upload the custom templates to stores. However, once you have created and uploaded templates, authorized store users can assign them to storefront pages through the control panel.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n## Authoring a Custom Template\r\n\r\nAs a the theme developer, you must first create the custom subdirectory in the templates/pages directory, and four required subdirectories inside of it (brand, category, product, page), which will result in the following directory paths:\r\n\r\n* templates/pages/custom/brand\r\n* templates/pages/custom/category\r\n* templates/pages/custom/product\r\n* templates/pages/custom/page\r\n\r\nNext, create the template HTML files, and then place them in the appropriate `templates/pages/custom/` subdirectories corresponding to the types listed above.\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--warning\">\r\n<div class=\"HubBlock-content\">\r\n\r\n<!-- theme: warning -->\r\n\r\n### Subdirectory/File Permissions Required\r\n> Be sure to set permission `755 (drwxr-x-r-x)` on any new subdirectories that you add. Also, be sure to set permission `644 (rw-r–r–)` on any new files that you add.\r\n\r\nWithout these permissions, running your theme locally will fail with multiple error messages. Bundling your theme will also fail, blocking its upload to a store.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n## Local Mapping and Testing\r\n\r\nTo test your custom templates locally, you must edit your `.stencil` file to create mappings between each local template and a corresponding URL. Within the .stencil file, look for the following section:\r\n\r\n<div class=\"HubBlock-header\">\r\n    <div class=\"HubBlock-header-title flex items-center\">\r\n        <div class=\"HubBlock-header-name\"></div>\r\n    </div><div class=\"HubBlock-header-subtitle\"></div>\r\n</div>\r\n\r\n<!--\r\ntitle: \"\"\r\nsubtitle: \"\"\r\nlineNumbers: true\r\n-->\r\n\r\n```json\r\n\"customLayouts\": {\r\n    \"product\": {},\r\n    \"brand\": {},\r\n    \"category\": {},\r\n    \"page\": {}\r\n  }\r\n```\r\n\r\nIn this section, you would populate keys to create mappings. As a simple example, assume that you have a product custom template named alternate-product.html, and you want to see that template locally at the URL: http://localhost:3000/test-url/. In this case, you must populate the product key as follows:\r\n\r\n<div class=\"HubBlock-header\">\r\n    <div class=\"HubBlock-header-title flex items-center\">\r\n        <div class=\"HubBlock-header-name\"></div>\r\n    </div><div class=\"HubBlock-header-subtitle\"></div>\r\n</div>\r\n\r\n<!--\r\ntitle: \"\"\r\nsubtitle: \"\"\r\nlineNumbers: true\r\n-->\r\n\r\n```json\r\n\"product\": {\r\n    \t\"alternate-product.html\":\"/test-url/\"\r\n},\r\n```\r\n\r\n### Expanded Mapping Example\r\n\r\nHere is a more-complete example in which the brand, page, and category keys are also populated:\r\n\r\n<div class=\"HubBlock-header\">\r\n    <div class=\"HubBlock-header-title flex items-center\">\r\n        <div class=\"HubBlock-header-name\"></div>\r\n    </div><div class=\"HubBlock-header-subtitle\"></div>\r\n</div>\r\n\r\n<!--\r\ntitle: \"\"\r\nsubtitle: \"\"\r\nlineNumbers: true\r\n-->\r\n\r\n```json\r\n{\r\n  \"normalStoreUrl\": \"http://cornerstone-light-demo.mybigcommerce.com\",\r\n  \"port\": 3000,\r\n  \"username\": \"stencil\",\r\n  \"token\": \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\r\n  \"customLayouts\": {\r\n    \"product\": {\r\n      \"custom-product.html\": \"/custom-product/\"\r\n    },\r\n    \"brand\": {\r\n      \"custom-brand.html\": \"/brands/custombrand/\"\r\n    },\r\n    \"page\": {\r\n      \"custom-page.html\": \"/custom-page/\"\r\n    },\r\n    \"category\": {\r\n      \"custom-category.html\": \"/custom-category/\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n### Mapping Requirements and Options\r\n\r\nIn the .stencil mapping examples above:\r\n\r\n* Each mapped URL must be a URL for a brand, category, product, or static page that is already configured in the store. This means that you cannot insert a placeholder URL that is an arbitrary string of letters, such as /abcdefghijklmnop/.\r\n\r\n* Each URL’s trailing slash is optional.\r\n\r\n* The HTML files must reside in either the brand, category, product, or page subdirectories.\r\n\r\n* All brand URLs are nested under the /brands/ parent. Use URL encoding with brand URLs.\r\n\r\n* That parent for brand URLs is /brands/ (plural), while the corresponding subdirectory for HTML files is /brand/ (singular).\r\n\r\n* After editing your .stencil file, you must restart stencil to see your changes locally. Enter stencil start on the command line, appending any appropriate switches for your workflow (e.g.: stencil start -e -n).\r\n\r\n### Why These URL Requirements?\r\nWhen you create a local custom template page for products, you expect that page to have access to all Stencil product objects. However, the server cannot readily determine the page type of each local custom template. So we give it a hint: We instruct the server to look at the page type of the URL to which you have mapped the template.\r\n\r\nIn the above .stencil configuration example’s final entry, the server will look at the URL /custom‑category/ within the store, deduce that the page type is category, and return a category context to Stencil CLI. This allows Stencil CLI to properly display the page in the browser when you visit http://localhost:3000/custom‑category/ locally, or when shoppers visit the corresponding public store page.\r\n\r\n### Mapping Multiple URLs\r\nBeyond the single URL mapped to each template in the above examples, you have the option of mapping an array of URLs to each template. This is shown in the following example for the product template:\r\n\r\n<div class=\"HubBlock-header\">\r\n    <div class=\"HubBlock-header-title flex items-center\">\r\n        <div class=\"HubBlock-header-name\"></div>\r\n    </div><div class=\"HubBlock-header-subtitle\"></div>\r\n</div>\r\n\r\n<!--\r\ntitle: \"\"\r\nsubtitle: \"\"\r\nlineNumbers: true\r\n-->\r\n\r\n```js\r\n  \"customLayouts\": {\r\n    \"product\": {\r\n      \"featured-product.html\": [\"/special-product-one\", \"/special-product-two\"],\r\n      \"clearance-product.html\": \"/clearance-product\"\r\n    },\r\n    \"brands\": {},\r\n    \"categories\": {},\r\n    \"page\": {}\r\n  }\r\n```\r\n\r\n## Specifying Custom Front Matter\r\n\r\nYou can specify front matter on a custom template if you only need to render certain resources (such as 'New Products') on that page. Specifying only the attributes you need will reduce page load time. If you don't explicitly specify front matter for your custom template, the front matter for the default page template will be available. See [Using Front Matter](https://developer.bigcommerce.com/stencil-docs/storefront-customization/using-front-matter) for more information on using front matter. \r\n\r\n## Theme Upload\r\n\r\nFinally, you must bundle and push the theme to BigCommerce. See [Bundling and Pushing a Theme](https://developer.bigcommerce.com/stencil-docs/deploying-a-theme/bundling-and-pushing) for instructions on how to achieve this.\r\n\r\n## Troubleshooting Template Authoring\r\n\r\nHere are solutions to some known problems in locally authoring and testing custom templates:\r\n\r\n### Viewing Custom Brand Templates Locally\r\n\r\nIf you are having trouble viewing custom brand templates locally, ensure that the URL used in your .stencil file is of the form: /brands/brandname. This is necessary because all the brand pages are located under the /brands/ URL path. Also, bear in mind that currently, all brand URLs are Unicode-encoded. So, for example, you should replace a hyphen with: %252d.\r\n\r\n### Outdated Stencil CLI\r\n\r\nIf you have an old version of Stencil CLI installed, it might lack support for custom templates. You can easily update your CLI by executing the following command:\r\n\r\n`npm install -g bigcommerce/stencil-cli`\r\n\r\n## Applying Custom Templates to Pages\r\n\r\nOnce the developer has uploaded a theme to BigCommerce, the merchant (or other authorized store user) can assign the custom templates to individual store pages in the BigCommerce Control Panel in order to make it live on the storefront.\r\n\r\nIf you are ready to apply your custom template to the live BigCommerce storefront, see [Applying a Custom Template](https://support.bigcommerce.com/s/article/Stencil-Themes#intro3) (BigCommerce Knowledge base).\r\n\r\n## Resources\r\n\r\n### Related Articles\r\n* [Blueprint Themes](https://developer.bigcommerce.com/legacy/blueprint-themes)\r\n* [Applying a Custom Template](https://support.bigcommerce.com/s/article/Stencil-Themes#intro3) (BigCommerce Knowledge Base)\r\n\r\n### Additional Resources\r\n\r\n* [Custom Templates Video Demo](https://www.youtube.com/watch?v=qgaDX7bhmd8) (Youtube)\r\n"}],"children":[]}}}}
