{"path":"stencil-docs/storefront-customization/using-front-matter","templateID":0,"sharedPropsHashes":{"nav":"ZHaw9F","sidebarTree":"ne2ym","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"Stencil Docs","to":"/stencil-docs"},{"content":"Storefront Customization","to":"/stencil-docs/storefront-customization"},{"content":"Using Front Matter ","to":"/stencil-docs/storefront-customization/using-front-matter"}],"page":{"meta":{"title":"Using Front Matter  - Storefront Customization - Stencil Docs","url":"/stencil-docs/storefront-customization/using-front-matter","description":"Using Front Matter\n\n\n\nOn This Page\n\nDeclaring Front Matter Objects\n\nYAML Syntax\n\nFiltering Attributes\n\nCombining Front Matter and Handlebars\n\nDefault vs..."},"title":"Using Front Matter ","parsedPath":["pages","/stencil-docs","data","children",2,"data","children",2],"rootPagePath":"/stencil-docs","path":"/stencil-docs/storefront-customization/using-front-matter","isSubpage":true,"route":{"path":"/using-front-matter"},"data":{"blocks":[{"type":"text","data":"# Using Front Matter\r\n\r\n<div class=\"otp\" id=\"no-index\">\r\n\r\n### On This Page\r\n- [Declaring Front Matter Objects](#declaring-front-matter-objects)\r\n- [YAML Syntax](#yaml-syntax)\r\n- [Filtering Attributes](#filtering-attributes)\r\n- [Combining Front Matter and Handlebars](#combining-front-matter-and-handlebars)\r\n- [Default vs Custom Attributes](#default-vs-custom-attributes)\r\n- [Declaring Multiple Attributes](#declaring-multiple-attributes)\r\n- [Resources](#resources)\r\n\r\n</div>\r\n\r\n## Declaring Front Matter Objects\r\n\r\nWhen you create a store page that requires specific attributes (such as 'New Products') to be displayed, you must first declare the object and attribute on the page in a front-matter block at the top of the page's HTML template file. The front matter block makes the attribute accessible on the page. Then, to display the attribute on the storefront page, you will reference the the object using Handlebars within the page's HTML.\r\nFor example, to display 'new products' on a storefront's home page, you first need to make new products accessible on the home page. To achieve this, include the following front matter block at the top of the [home.html](https://github.com/bigcommerce/cornerstone/blob/master/templates/pages/home.html) file to declare the products object with its new attribute. This allows a storefront's home page to access a store's \"New Products.\"\r\n\r\n```yaml\r\n\r\nproducts:\r\n    new:\r\n    \tlimit: {{theme_settings.homepage_new_products_count}}\r\n\r\n```\r\n\r\n**Note:** A 'limit' is required for Product Objects to render on a storefront page. You can hard code the limit value or utilize handlebars.js to reference it from the theme's config.json file. In this case, the limit value is being referenced from the `settings` JSON object in the `config.json` file using handlebars.js. Information on required attributes is detailed in the Front Matter Attributes Reference.\r\n\r\nAfter including the front matter block at the top of the home.html file, the New Products attribute will be accessible in the home page's context. As previously stated, simply including the front matter block will not display the attribute on the page. In order to actually display the new products on the desired storefront page, you will refernce the attribute using Handlebars in the same file you have added the front matter block to.\r\nIn this example, we will include the following code in Cornerstone's [home.html](https://github.com/bigcommerce/cornerstone/blob/master/templates/pages/home.html) file to display New Products on our store's home page.\r\n\r\n```html\r\n  {{#if products.new}}\r\n        {{> components/products/new products=products.new columns=theme_settings.homepage_new_products_column_count}}\r\n    {{/if}}\r\n```\r\n\r\n## YAML Syntax\r\n\r\nStencil front matter uses the conventions of [YAML]() (short for the recursive \"YAML Ain't Markup Language\"). Here are the YAML conventions you must follow in front matter:\r\n\r\nPlace the front-matter block at the top of your template.\r\nFence the beginning and end of the front-matter block with a row of three hyphens (), as you see in the examples here.\r\nShow attribute > key relationship (or object > property relationship) by indenting the children. In the example above, products is the object,\r\nPlace a colon (:) directly after each attribute name, and directly after each key name. (Colons separate key:value pairs.)\r\nIdentifiers are case-sensitive.\r\n\r\n### Restrictions\r\n\r\nYou can use front matter to specify attributes on the tops of pages in your\r\n`templates/pages/` subdirectory.\r\n\r\nYou **cannot** use front matter to accomplish this on pages in the following subdirectories:\r\n* `templates/components/`\r\n* `templates/layout/`\r\n* `templates/pages/custom/`\r\n\r\n* Indent using only spaces, not tabs. (YAML forbids tabs, to avoid inconsistent encoding of tabs across platforms.) An indent of even one space indicates a child.\r\n\r\n* Front matter on a given page cannot exceed 64 KB.\r\n\r\n* If a front-matter directive contains an invalid option, Stencil CLI will silently ignore that option.\r\n\r\n## Filtering Attributes\r\n\r\nSome attributes can accept indented keys, or key-value pairs, to further define the attribute. For example, limit is a key commonly used to restrict the number of objects to return for an attribute.\r\nTo return products similar to the product that a customer is currently viewing – with a limit of six – you would declare front matter as follows:\r\n\r\n```yaml\r\n\r\nproducts:\r\n    similar_by_views:\r\n        limit: 6\r\n\r\n```\r\n\r\nMost keys have a default value, as listed in the [Front Matter Attributes](https://developer.bigcommerce.com/stencil-docs/reference-docs/front-matter-reference) Reference. Specifying the key without a value will call that default value. The default value for `similar_by_views:limit:` happens to be `4`, so inserting `limit` with no integer will display four products:\r\n\r\n```yaml\r\n\r\nproducts:\r\n    similar_by_views:\r\n        limit:\r\n\r\n```\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--info\">\r\n<div class=\"HubBlock-content\">\r\n\r\n<!-- theme:info  -->\r\n\r\n### Filtering for Faster Page Loads\r\n> To keep your pages lightweight, specify only the attributes you need per page. Also, use the limit key (with appropriate values) for attributes that accept it.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n## Combining Front Matter and Handlebars\r\n\r\nThe next example builds on front-matter object invocation and filtering, by showing a corresponding Handlebars statement in HTML. Here is how you would declare the `products` object to return four new products, and to then display each product’s name:\r\n\r\n```html\r\n\r\nproducts:\r\n    new:\r\n        limit: 4\r\n\r\n#  This is the HTML for the new-products example \r\n{{#each products.new}}\r\n    <p>{{ name }}</p>\r\n{{/each}}\r\n```\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--info\">\r\n<div class=\"HubBlock-content\">\r\n\r\n<!-- theme:info  -->\r\n\r\n###  Reading the Handlebars\r\n> In the above HTML, the {{ name }} identifier calls an attribute of Stencil’s common product card model, which consolidates details about a given product. For this and other objects that you can access through HTML, please see our reference section on Handlebars objects.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n## Default vs Custom Attributes\r\n\r\nTo make templates readily useful, they automatically include a page’s default attributes. For example, a theme’s [product.html](https://github.com/bigcommerce/cornerstone/blob/master/templates/pages/product.html) page will automatically include a product attribute.\r\n\r\nHowever, if you want to include additional attributes on a page, you can declare those attributes in front matter using the conventions shown above. [The Declaring Objects](#front-matter-overview_declaring-objects) example shows the only way to display a \"new products\" storefront section, which requires front-matter invocation.\r\n\r\n## Declaring Multiple Attributes\r\n\r\nBelow is an example that assumes you want to include a product’s reviews and also related products. To display images for the related products, the HTML statement `<img src=\"{{getImage image 'gallery'}}\">` relies on Stencil's `{{getImage}}` custom Handlebars helper:\r\n\r\n```html\r\n\r\nproduct:\r\n   reviews:\r\n       limit: 9\r\n   related_products:\r\n       limit: 10\r\n\r\n<h2>{{ product.name }}</h2>\r\n{{#each product.reviews.list}}\r\n    <p>{{text}}</p>\r\n{{/each}}\r\n<h3>Related Products</h3>\r\n{{#each product.related_products}}\r\n  <img src=\"{{getImage image 'gallery'}}\">\r\n  <p>{{ name }}</p>\r\n{{/each}}\r\n```\r\n\r\n## Resources\r\n* [Front Matter Reference](https://developer.bigcommerce.com/stencil-docs/reference-docs/front-matter-reference)"}],"children":[]}}}}
