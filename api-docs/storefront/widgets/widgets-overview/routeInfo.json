{"path":"api-docs/storefront/widgets/widgets-overview","templateID":0,"sharedPropsHashes":{"nav":"ZHaw9F","sidebarTree":"Z427i9","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Docs","to":"/api-docs"},{"content":"Storefront","to":"/api-docs/storefront"},{"content":"Widgets","to":"/api-docs/storefront/widgets"},{"content":"Overview","to":"/api-docs/storefront/widgets/widgets-overview"}],"page":{"meta":{"title":"Overview - Widgets - Storefront - API Docs","url":"/api-docs/storefront/widgets/widgets-overview","description":"Widgets API\n\n\n\nRegions\n\nWidget Templates\n\nWidgets\n\nPlacements\n\nPlacements and Widgets\n\nWidgets on the Storefront\n\nDefinitions\n\nResources\n\n\n\nThe Widgets ..."},"title":"Overview","parsedPath":["pages","/api-docs","data","children",5,"data","children",2,"data","children",0],"rootPagePath":"/api-docs","path":"/api-docs/storefront/widgets/widgets-overview","isSubpage":true,"route":{"path":"/widgets-overview"},"data":{"blocks":[{"type":"text","data":"# Widgets API\n\n\n<div class=\"otp\" id=\"no-index\">\n\n- [Regions](#regions)\n- [Widget Templates](#widget-templates)\n- [Widgets](#widgets)\n- [Placements](#placements)\n- [Placements and Widgets](#placements-and-widgets)\n- [Widgets on the Storefront](#widgets-on-the-storefront)\n- [Definitions](#definitions)\n- [Resources](#resources)\n\n</div>\n\nThe Widgets API allows developers to programmatically associate content with regions on a BigCommerce storefront. The content can consist of HTML, CSS, and JavaScript, and the API supports configuration via Handlebars variables. It can support many types of content such as YouTube Videos, image sliders, and chat apps.\n\nSome benefits are:\n* Inject modular, reusable blocks of content inside new and existing store pages\n* Build tools that allow non-technical users to control content without editing theme files\n* Target specific products, categories or brands with widgets\n\nWe are going to review all the components that make a widget. Then, we’ll use what we’ve learned to create a widget .\n\n## Regions\n\n[Regions](https://developer.bigcommerce.com/api-reference/storefront/widgets-api/regions/getcontentregions) are specific locations in the Stencil theme files where a widget is placed. A region is added at the file level using the format {{{region name=\"...\"}}}. A region can be named however you like, but it is best practice to give it a name that is descriptive of the location and function. A theme file can have as many regions as you want, with more than one widget assigned to the region and the [Placement](/api-docs/storefront/widgets/widgets-overview#widgets_placements) `sort_order` controlling how the widgets appear on the Storefront.\n\n![Content Region](//s3.amazonaws.com/user-content.stoplight.io/6012/1551970794664 \"Content Region\")\n\n![Content Region](//s3.amazonaws.com/user-content.stoplight.io/6012/1551970767918 \"Content Region\")\n\nMost themes in the BigCommerce marketplace come with predefined regions. It is best to utilize those first. By editing the theme and adding theme regions, updates will need to be manually managed.\n\n## Widget Templates\n\n[Widget Templates](/api-reference/storefront/widgets-api/widget-template/getwidgettemplates) are handlebars-enabled HTML templates which define the structure of the widget on a page. Widget Templates can use the built in handlebar helpers such as {{if}} and {{each}}. Using the helpers allows for conditional logic to be built into the Widget Templates. Widget templates can be reused to build multiple widgets.\n\n### Widget Template Examples\n\n**Simple List**\n\nThe Simple List template creates a list where each item in the list can have a different color. This example uses the [each block helper](https://handlebarsjs.com/builtin_helpers.html) in handlebars to loop through each item in the list and display it. The text and color are determined by handlebars placeholders that are set when creating the [Widget](/api-reference/storefront/widgets-api/widget/createwidget).\n\nThe list takes advantage of loops to display each list item on the page.\n\n```json\n{\n  \"name\": \"Simple List\",\n  \"template\": \"<ul>{{#each list_items}}<li style=\\\"color:{{color}};\\\">{{text}}</li>{{/each}}</ul>\"\n}\n```\n\nThe slider takes advantage of loops to display each slide on the page.\n\n```json\n{\n\"name\": \"Simple Slider\",\n\"template\": \"<ul class='slider'>{{#each slides}}<li class='slide'><img src={{image}}'/</li>{{/each}}</ul>\"\n}\n```\n\n## Widgets\n\n[Widgets](/api-reference/storefront/widgets-api/widget/getwidgets) are a unit of content that are placed on specific pages in a Stencil theme. Widgets are made of a widget configuration written in json and a widget template UUID. Widgets are rendered as part of the HTML on the storefront.\n\n![Widget](//s3.amazonaws.com/user-content.stoplight.io/6012/1551971053085 \"Storefront Widget\")\n\n### Widget Configuration\n\nA Widget Configuration is the JSON payload that defines the content to be rendered with a given Widget Template. In the previous simple list example, the widget template loops over a list_items array using `{{#each}}`.\n\nIn the example below, we define the list_items array and supply values for the color and text of each list item. Since the template is created separately from the configuration, the same template UUID can be used multiple times for configuration.\n\n**Widget Configuration Slides**\n\n```json\n{\n  \"slides\": [\n    {\"image\":\"http://imageurl.com/nh35jn/test.png\"},\n    {\"image\":\"http://imageurl.com/fdhdfh/test2.png\"}\n  ]\n}\n```\n\n**Widget Configuration List Items**\n\n```json\n{\n\t\"list_items\": [{\n\t\t\t\"color\": \"orange\",\n\t\t\t\"text\": \" Item One\"\n\t\t},\n\t\t{\n\t\t\t\"color\": \"blue\",\n\t\t\t\"text\": \"Item Two\"\n\t\t}\n\t]\n}\n\n```\n\n<div class=\"HubBlock--callout\">\n<div class=\"CalloutBlock--info\">\n<div class=\"HubBlock-content\">\n\n<!-- theme:  -->\n\n### Reusing Widget Configuration\n> Keep in mind that when reusing the `widget_configuration` the array will have to be called `list_items`. Otherwise, the widget will be created on the frontend, but there will be no data, so nothing is rendered. This is because `list_items` was defined when the widget template was originally created. The widget configuration name can be anything that is set when the widget_template is created.\n\n</div>\n</div>\n</div>\n\n**List Items Example: Incorrect**\n\n```json\n{\n  \"name\": \"Simple List\",\n  \"widget_configuration\": {\n    \"list_items_two\": [\n      {\n        \"color\": \"orange\",\n        \"text\": \"Fifth item\"\n      },\n      {\n        \"color\": \"blue\",\n        \"text\": \"Sixth item\"\n      }\n    ]\n  },\n  \"widget_template_uuid\": \"7bfb9a46-75cc-45bc-bf39-a6a43b77111f\"\n}\n```\n\nThe example above uses `list_items_two`, on line four, in the configuration which is not the same as `list_items`. If `list_items` has already been established during the initial configuration it must be set as `list_items` when being used again.\n\n\n**List Items Example: Correct**\n\n```json\n{\n  \"name\": \"Simple List\",\n  \"widget_configuration\": {\n    \"list_items\": [\n      {\n        \"color\": \"orange\",\n        \"text\": \"Fifth item\"\n      },\n      {\n        \"color\": \"blue\",\n        \"text\": \"Sixth item\"\n      }\n    ]\n  },\n  \"widget_template_uuid\": \"7bfb9a46-75cc-45bc-bf39-a6a43b77111f\"\n}\n```\n\n## Placements\n\n[Placements](/api-reference/storefront/widgets-api/placement/createplacement) determine the Region where the Widget is placed and in what order. The order of the placement is controlled by the `sort_order` when creating the placement.\nA placement must be created in order to use a Widget on the storefront.\n\nPlacements can be used with `sort_order` and region to determine placement in a theme.\n\n### Placements `entity_id`\n\nWhen creating a placement, there is an option to provide an `entity_id`.\nThis is the ID for a specific product, brand, category or page. For example, if a Widget needs to be on all product pages, leave `entity_id` blank. If the Widget should only appear on a certain product page, then assign `entity_id` the product ID.\n\n`entity_id` can be used with the following page types:\n* pages/brand\n* pages/category\n* pages/page\n* pages/product\n\n### Create a Widget Placement with Region\n\nBelow, the region and sort order have a value, so the widget will appear on the home page.\n\n**Widget with Region**\n\n```json\n{\n    \"widget_uuid\": \"2dfeb50e-5f8c-4df2-8525-a338091eed32\",\n    \"entity_id\": \"14\",\n    \"sort_order\": 1,\n    \"region\": \"home_header_image\",\n    \"template_file\": \"pages/home\",\n    \"status\": \"active\"\n}\n```\n\n### Create a Widget Placement Without a Region\nLeaving the region and sort order off the request will return just the `placement_id` in the response, allowing for the widget to be rendered using Layouts.\n\n**Widget Without a Region**\n\n```json\n{\n    \"widget_uuid\": \"2dfeb50e-5f8c-4df2-8525-a338091eed32\",\n    \"entity_id\": \"14\",\n    \"template_file\": \"pages/home\",\n    \"status\": \"active\"\n}\n```\n\n## Placements and Widgets\n\nPlacements determine which region widgets are located in and the order that they're displayed.\n\nWhen creating a placement with a widget, the widget content takes the full region width. Any additional widgets that are placed onto the same region will be stacked above or below based on the `sort_order` property for each placement.\n\nIf you are creating marketplace applications that create placements directly, you don’t need to use the `sort_order` property.\n\n## Widgets on the Storefront\n\nWidgets are rendered on the storefront as a data tag in the HTML.\n\n* Region -- data-content-region\n* Widget -- data-widget-id\n* Placement does not generate a data tag. Only the Widget.\n\nA Region can contain multiple Placements with Widgets.\n\n## Definitions\n\n| Name | Definition |\n|--|--|\n| Widgets | Widgets are the units of content to be placed on specific pages in a Stencil theme. Each widget is comprised of a widget configuration and a widget template. *There is a limit of 1000 widgets per store.* |\n| Widget Templates | Widget Templates are Handlebars-enabled HTML templates which define the widget’s structure on a page. These templates can include conditional logic as well as looping. *There is a limit of 100 total widget templates per store.* |\n| Placements | Placements are the records to track which widget appears on which page, and in what order.  Currently, placements can only exist on the following pages: </br>* pages/blog-post </br> * pages/blog</br>* pages/brand</br>* pages/brands</br>* pages/cart</br>* pages/category</br>* pages/home</br>* pages/page</br>* pages/product</br>* pages/search</br> *There is a limit of 75 placements per template file and 6500 total placements per store.*|\n| Regions | Regions are specific spots in a Stencil template file where Widgets can be placed. Regions are defined at the theme file level using the following syntax: `{{{region name=\"...\"}}}`. There can be many widgets inside a given region, and these widgets can have an assigned sort order. |\n| Widget Configuration | This is a JSON payload that contains data used when rendering the widget. Each widget has a configuration, and there is a 64kb limit on the size of the JSON. The widget configuration must be valid JSON, but we don’t enforce any additional requirement on the structure of the configuration. |\n\n## Resources\n\n### Related Endpoints\n* [Widgets API](/api-reference/storefront/widgets-api)\n* [Widgets Tutorial](/api-docs/storefront/widgets/widgets-tutorial)\n* [Wigets Code Samples](/api-docs/storefront/widgets/widgets-code-samples)\n"}],"children":[]}}}}
