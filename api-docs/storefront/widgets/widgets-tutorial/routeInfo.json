{"path":"api-docs/storefront/widgets/widgets-tutorial","templateID":0,"sharedPropsHashes":{"nav":"ZHaw9F","sidebarTree":"Z427i9","namespace":"Zd6xn0"},"localProps":{"version":"1.3","crumbs":[{"content":"API Docs","to":"/api-docs"},{"content":"Storefront","to":"/api-docs/storefront"},{"content":"Widgets","to":"/api-docs/storefront/widgets"},{"content":"Widgets Tutorial","to":"/api-docs/storefront/widgets/widgets-tutorial"}],"page":{"meta":{"title":"Widgets Tutorial - Widgets - Storefront - API Docs","url":"/api-docs/storefront/widgets/widgets-tutorial","description":"Widgets Tutorial\n\n\n\nIn this tutorial, we will cover:\n\nCreating a Region\n\nCreating a Widget Template\n\nCreating a Widget\n\nPlacing the Widget\n\nThis tutoria..."},"title":"Widgets Tutorial","parsedPath":["pages","/api-docs","data","children",5,"data","children",2,"data","children",1],"rootPagePath":"/api-docs","path":"/api-docs/storefront/widgets/widgets-tutorial","isSubpage":true,"route":{"path":"/widgets-tutorial"},"data":{"blocks":[{"type":"text","data":"# Widgets Tutorial\r\n<div class=\"otp\" id=\"no-index\">\r\n\t<h3> On This Page </h3>\r\n\t<ul>\r\n\t  <li><a href=\"#widget-tutorial_prerequisites\">Prerequisites</a></li>\r\n        <li><a href=\"#widget-tutorial_add-a-region\">Add a Region</a></li>\r\n        <li><a href=\"#widget-tutorial_create-widget-template\">Create a Widget Template</a></li>\r\n        <li><a href=\"#widget-tutorial_create-widget\">Create a Widget</a></li>\r\n        <li><a href=\"#widget-tutorial_create-placement\">Create the Placement</a></li>\r\n    \t\t<li><a href=\"#widget-tutorial_reuse-widget-template\">Reuse the Widget</a></li>\r\n\t</ul>\r\n</div>\r\n\r\nIn this tutorial, we will cover:\r\n* Creating a Region\r\n* Creating a Widget Template\r\n* Creating a Widget\r\n* Placing the Widget\r\n\r\nThis tutorial assumes knowledge of [Widgets](/api-docs/storefront/widgets/widgets-overview). \r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--info\">\r\n<div class=\"HubBlock-content\">\r\n    \r\n<!-- theme:  -->\r\n### Cornerstone Theme\r\n> The instructions below use the Cornerstone Theme. Your theme may differ.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n<a id=\"widget-tutorial_prerequisites\"></a>\r\n\r\n##  Prerequisites:\r\n* Stencil Theme. This tutorial uses Cornerstone.\r\n* Scopes  \r\nThe following Oauth scopes are required:\r\n\t* [Content](/api-docs/getting-started/authentication#authentication_oauth-scopes) set to Modify\r\n* Image URL. If you donâ€™t have one, there is an example in the tutorial.\r\n* Category Page ID. A [GET Categories](/api-reference/catalog/catalog-api/category/getcategories) request will returns a list of category IDs.\r\n\r\nTo follow along we have created a Postman collection.\r\n\r\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/068117f7cbf510527e49)\r\n\r\nWe will be making a widget that shows three images, with a hover effect and each image linking out to a different location. \r\n\r\n<!--\r\n    title: #### Category Page Widget\r\n\r\n    data: //s3.amazonaws.com/user-content.stoplight.io/6012/1551898706416\r\n-->\r\n\r\n![#### Category Page Widget\r\n](//s3.amazonaws.com/user-content.stoplight.io/6012/1551898706416 \"#### Category Page Widget\r\n\")\r\n\r\n## Add a Region\r\nIn <span class=\"fp\">templates/pages/category.html</span>, add `{{{region name=\"category_header_banner\"}}}` below the page heading: \r\n\r\n```html\r\n<!-- ... -->\r\n{{#unless theme_settings.hide_category_page_heading }}\r\n    <h1 class=\"page-heading\">{{category.name}}\r\n{{/unless}}\r\n\r\n{{{category.description}}}\r\n<!-- ... -->\r\n<div class=\"page\">\r\n```\r\n\r\n<div class=\"HubBlock--callout\">\r\n<div class=\"CalloutBlock--info\">\r\n<div class=\"HubBlock-content\">\r\n    \r\n<!-- theme: info -->\r\n> Regions can only be added to files under pages/templates, including subfolders.\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\nTo check the region was added successfully, use [Get Content Regions](/api-reference/storefront/widgets-api/regions/getcontentregions):\r\n\r\n**`GET`** `https://developer.bigcommerce.com/api-reference/storefront/widgets-api/regions/getcontentregions`\r\n\r\n<!--\r\ntitle: \"Sample Response\"\r\nsubtitle: \"Get Content Regions\"\r\nlineNumbers: true\r\n-->\r\n\r\n```json\r\n{\r\n\"data\": [\r\n    {\r\n        \"name\": \"header_bottom\"\r\n    },\r\n    {\r\n        \"name\": \"category_header_banner\"\r\n    }\r\n],\r\n\"meta\": {}\r\n}\r\n```\r\n\r\n## Create a Widget Template\r\n\r\nWidget Templates are the reusable piece of structure. In this walkthrough we are creating a header image. `image_source` is set using handlebars so the header image can be changed every time the template is reused. The template also takes advantage of conditional logical with `#each images`. Instead of creating a template with three lines of code for each image, one line can loop through each image provided. \r\n\r\n* name -- Name of the widget template (required)\r\n* template -- Html to create the widget template (required)\r\n\r\nIn the response the Widget Template UUID returned. Make note of it for use later when creating the Widget.\r\n\r\n**Example Create Widget Template**  \r\n`/POST https://api.bigcommerce.com/stores/{{store_hash}}/v3/content/widget-templates`\r\n\r\n```json\r\n{\r\n  \"name\": \"Header Images\",\r\n  \"template\": \"{{#each images}}<a href='{{image_url}}'><img src={{image_source}} style='width:33.3%'/></a>{{/each}}\"\r\n}\r\n```\r\n\r\n<!--\r\ntitle: \"Sample Response \"\r\nsubtitle: \"Create Widget Template\"\r\nlineNumbers: true\r\n-->\r\n\r\n**Example Response Create Widget Template**  \r\n`/POST https://api.bigcommerce.com/stores/{{store_hash}}/v3/content/widget-templates`\r\n\r\n```json\r\n{\r\n    \"data\": {\r\n        \"uuid\": \"3a1b0044-c9b3-47d3-9929-01ab0c20243b\",\r\n        \"name\": \"Header Images\",\r\n        \"schema\": [],\r\n        \"template\": \"{{#each images}}<a href='{{image_url}}'><img src={{image_source}} style='width:33.3%'/></a>{{/each}}\",\r\n        \"date_created\": \"2019-02-25T18:35:04.904Z\",\r\n        \"date_modified\": \"2019-02-25T18:35:04.904Z\",\r\n        \"kind\": \"custom\"\r\n    },\r\n    \"meta\": {}\r\n}\r\n```\r\n\r\n## Create a Widget\r\n\r\nHere, we will use the Widget Template to add the links and the images. There are many ways to use widget templates and we will go over just one. For more examples, see [Code Samples](/api-docs/storefront/widgets/widgets-code-samples). \r\n\r\n* name -- Something short and descriptive. (required)\r\n* description -- a longer explanation if needed (not required)\r\n* widget_configuration -- Based on the original widget_template configuration and can vary by the widget created.\r\n\t* image_source -- Since this is the handlebar placeholder, it requires an image value.\r\n* widget_template_uuid -- UUID from the Widget Template response.\r\n\r\nFor widget_configuration `images is the top level array, with `image_url` and `image_source` for each object. There are three images in this example since the width of each was set to 33.3%.\r\n\r\nIn the response the Widget UUID is returned. Make note of it for use later when creating the Placement.\r\n\r\n<!--\r\ntitle: \"Sample Response\"\r\nsubtitle: \"Create a Widget\"\r\nlineNumbers: true\r\n-->\r\n\r\n**Example Create a Widget**  \r\n`/POST https://api.bigcommerce.com/stores/{{store_hash}}/v3/content/widgets`\r\n\r\n```json\r\n{\r\n    \"data\": {\r\n        \"uuid\": \"a8940709-5655-4401-a341-62c44e3180b2\",\r\n        \"name\": \"Header Images\",\r\n        \"widget_configuration\": {\r\n            \"images\": [\r\n                {\r\n                    \"image_url\": \"{where-the-image-should-link-to}\",\r\n                    \"image_source\": \"https://cdn11.bigcommerce.com/s-n0i50vy/images/stencil/1280x1280/products/91/309/thekinfolktablecover_1024x1024__80715.1456436719.jpg?c=2&imbypass=on\"\r\n                },\r\n                {\r\n                    \"image_url\": \"{where-the-image-should-link-to}\",\r\n                    \"image_source\": \"https://cdn11.bigcommerce.com/s-n0i50vy/images/stencil/1280x1280/products/109/361/kinfolkessentialissue_1024x1024__22507.1456436715.jpg?c=2&imbypass=on\"\r\n                },\r\n                {\r\n                    \"image_url\": \"{where-the-image-should-link-to}\",\r\n                    \"image_source\": \"https://cdn11.bigcommerce.com/s-n0i50vy/images/stencil/500x659/products/85/282/livingwithplants_grande__26452.1456436666.jpg?c=2&imbypass=on\"\r\n                }\r\n            ],\r\n            \"_\": {\r\n                \"id\": \"a8940709-5655-4401-a341-62c44e3180b2\"\r\n            }\r\n        },\r\n        \"widget_template\": {\r\n            \"uuid\": \"3a1b0044-c9b3-47d3-9929-01ab0c20243b\",\r\n            \"name\": \"Header Images\",\r\n            \"schema\": [],\r\n            \"template\": \"{{#each images}}<a href='{{image_url}}'><img src={{image_source}} style='width:33.3%'/></a>{{/each}}\",\r\n            \"date_created\": \"2019-02-25T18:35:04.904Z\",\r\n            \"date_modified\": \"2019-02-25T18:35:04.904Z\",\r\n            \"kind\": \"custom\"\r\n        },\r\n        \"date_created\": \"2019-02-25T18:36:45.238Z\",\r\n        \"date_modified\": \"2019-02-25T18:36:45.238Z\",\r\n        \"description\": \"\"\r\n    },\r\n    \"meta\": {}\r\n}\r\n```\r\n\r\n## Create the Placement\r\n\r\nPlacement defines the page and region where the widget should appear. Remember that [Placements](/api-docs/storefront/widgets/widgets-overview#widgets_placements) can either lead to a Layout or they can be used on their own. In this walkthrough we will use Layouts. \r\n\r\n* widget_uuid -- UUID of the Widget\r\n* entity_id -- The page, category, brand or product ID the widget should appear on\r\n* sort_order -- If there is more than one Widget on a page, use the sort order to control the order they are displayed\r\n* region -- region the template will show. It should match the template file\r\n* template_file -- template file the region was added to\r\n* status -- if the widget is active or inactive\r\n\r\nIf you wanted to see the results of the Widget without a layout, use the Placement without the layout code sample below. If you would like to learn more about Layouts use the Create Placement code sample below. \r\n\r\n**Example Create a Placement**  \r\n`/POST https://api.bigcommerce.com/stores/{{store_hash}}/v3/content/placements`\r\n\r\n```json\r\n{\r\n  \"widget_uuid\": \"{your-widget-uuid}\",\r\n  \"entity_id\": \"{your-category-id}\",\r\n  \"sort_order\": 1,\r\n  \"region\": \"category_header_banner\",\r\n  \"template_file\": \"pages/category\",\r\n  \"status\": \"active\"\r\n}\r\n```\r\n\r\n<!--\r\ntitle: \"Sample Response\"\r\nsubtitle: \"Create Placement\"\r\nlineNumbers: true\r\n-->\r\n\r\n**Example Response Create Placement**  \r\n`/POST https://api.bigcommerce.com/stores/{{store_hash}}/v3/content/placements`\r\n\r\n```json\r\n{\r\n    \"data\": {\r\n        \"uuid\": \"bb34b23b-0d4b-4b9b-9e24-c8b0dcfd5e08\",\r\n        \"template_file\": \"pages/category\",\r\n        \"region\": \"\",\r\n        \"sort_order\": 0,\r\n        \"entity_id\": \"21\",\r\n        \"status\": \"active\",\r\n        \"widget\": {\r\n            \"uuid\": \"a8940709-5655-4401-a341-62c44e3180b2\",\r\n            \"name\": \"Header Images\",\r\n            \"widget_configuration\": {\r\n                \"images\": [\r\n                    {\r\n                        \"image_url\": \"{where-the-image-should-link-to}\",\r\n                        \"image_source\": \"https://cdn11.bigcommerce.com/s-n0i50vy/images/stencil/1280x1280/products/91/309/thekinfolktablecover_1024x1024__80715.1456436719.jpg?c=2&imbypass=on\"\r\n                    },\r\n                    {\r\n                        \"image_url\": \"{where-the-image-should-link-to}\",\r\n                        \"image_source\": \"https://cdn11.bigcommerce.com/s-n0i50vy/images/stencil/1280x1280/products/109/361/kinfolkessentialissue_1024x1024__22507.1456436715.jpg?c=2&imbypass=on\"\r\n                    },\r\n                    {\r\n                        \"image_url\": \"{where-the-image-should-link-to}\",\r\n                        \"image_source\": \"https://cdn11.bigcommerce.com/s-n0i50vy/images/stencil/500x659/products/85/282/livingwithplants_grande__26452.1456436666.jpg?c=2&imbypass=on\"\r\n                    }\r\n                ],\r\n                \"_\": {\r\n                    \"id\": \"a8940709-5655-4401-a341-62c44e3180b2\"\r\n                }\r\n            },\r\n            \"widget_template\": {\r\n                \"uuid\": \"3a1b0044-c9b3-47d3-9929-01ab0c20243b\",\r\n                \"name\": \"Header Images\",\r\n                \"schema\": [],\r\n                \"template\": \"{{#each images}}<a href='{{image_url}}'><img src={{image_source}} style='width:33.3%'/></a>{{/each}}\",\r\n                \"date_created\": \"2019-02-25T18:35:04.904Z\",\r\n                \"date_modified\": \"2019-02-25T18:35:04.904Z\",\r\n                \"kind\": \"custom\"\r\n            },\r\n            \"date_created\": \"2019-02-25T18:36:45.238Z\",\r\n            \"date_modified\": \"2019-02-25T18:36:45.238Z\",\r\n            \"description\": \"\"\r\n        },\r\n        \"date_created\": \"2019-02-25T18:37:10.658Z\",\r\n        \"date_modified\": \"2019-02-25T18:37:10.658Z\"\r\n    },\r\n    \"meta\": {}\r\n}\r\n\r\n```\r\n\r\n## Reuse the Widget Template\r\n\r\nNow that the Widget Template has been created it can be reused on a different page again. \r\n\r\nTo reuse the Widget Template:\r\n* Choose where to display the widget by either creating a [Region](/api-reference/storefront/widgets-api/regions/getcontentregions) or use and existing one\r\n* Decide if the Widget should appear on all pages or if it should use an `entity_id`\r\n* Get the [Widget Template ID](/api-reference/storefront/widgets-api/widget-template/getwidgettemplates)\r\n* [Create the Widget](/api-reference/storefront/widgets-api/widget/createwidget) with the Widget Template ID\r\n* [Create a Placement](/api-reference/storefront/widgets-api/placement/createplacement) using the Widget\r\n\r\n## Resources\r\n\r\n### Related Endpoints\r\n* [Widgets API](/api-reference/storefront/widgets-api)\r\n\r\n### Related Articles\r\n* [Widgets Overview](/api-docs/storefront/widgets/widgets-overview)\r\n* [Wigets Code Samples](/api-docs/storefront/widgets/widgets-code-samples)\r\n"}],"children":[]}}}}
